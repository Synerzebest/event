"use client";

import React, { useState } from "react";
import Link from "next/link";
import useAuth from "@/lib/useAuth";
import UserButton from "./UserButton";
import { FaBars, FaTimes } from "react-icons/fa";
import { useTranslation } from "../app/i18n";
import { useRouter } from "next/navigation";
import { MdLanguage } from "react-icons/md";

interface NavbarProps {
  lng: string;
}

const Navbar = ({ lng }: NavbarProps) => {
  const { isSignedIn } = useAuth();
  const { t, i18n } = useTranslation(lng, ['common']);
  const router = useRouter();
  const [isOpen, setIsOpen] = useState(false);
  const [dropdownOpen, setDropdownOpen] = useState(false);

  if (!i18n) {
    return <div>Loading...</div>
  }

  const handleChangeLanguage = (newLng: string) => {
    if (i18n) {
      // Change la langue via i18n
      i18n.changeLanguage(newLng);
  
      // Utilise useRouter pour rediriger vers la même page avec la nouvelle langue
      const currentPath = window.location.pathname;
      const newPath = currentPath.replace(/^\/(en|fr|nl)/, `/${newLng}`);
      
      // Redirige vers la nouvelle URL sans recharger la page
      router.push(newPath);
    }
  };

  const toggleMenu = () => {
    setIsOpen(!isOpen);
  };

  const toggleDropdown = () => {
    setDropdownOpen(!dropdownOpen);
  };

  return (
    <nav className="w-[98%] rounded-xl mx-auto mt-2 flex justify-between items-center py-2 sm:px-12 px-4 bg-blue-500 z-10">
      <div>
        <Link href={`/${lng}`}>
          <p className="text-4xl text-white px-4 py-2 rounded-xl font-bold">
          <svg className="logo_svg_path w-[250px] md:w-[190px]" height="50" viewBox="0 0 411 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path className="logo_svg_path" d="M49.888 62.672C48.288 62.672 46.24 62.576 43.744 62.384C41.312 62.192 38.336 61.968 34.816 61.712C32.128 61.52 29.664 61.424 27.424 61.424C25.952 61.424 24.448 61.456 22.912 61.52C21.44 61.52 19.776 61.584 17.92 61.712C16.96 61.712 15.52 61.744 13.6 61.808C11.744 61.872 9.664 61.936 7.36 62C5.12 62 2.912 62 0.736 62H0.64C0.448 62 0.352 61.936 0.352 61.808C0.352 61.552 0.512 61.264 0.832 60.944C1.152 60.56 1.44 60.368 1.696 60.368C3.296 60.432 4.704 60.496 5.92 60.56C7.136 60.56 8.224 60.56 9.184 60.56C11.552 60.56 13.248 60.304 14.272 59.792C15.36 59.28 16.16 58.224 16.672 56.624C17.248 55.024 17.92 52.592 18.688 49.328C19.392 46.512 20 43.6 20.512 40.592C21.024 37.52 21.472 34.576 21.856 31.76C21.408 31.824 20.896 31.888 20.32 31.952C19.744 31.952 19.232 31.952 18.784 31.952H17.824C16.928 31.952 16.48 31.824 16.48 31.568C16.48 31.248 16.896 30.896 17.728 30.512C18.624 30.064 19.328 29.776 19.84 29.648C20.096 29.584 20.416 29.552 20.8 29.552C21.248 29.488 21.696 29.424 22.144 29.36C22.4 27.44 22.656 25.232 22.912 22.736C23.168 20.24 23.36 17.84 23.488 15.536C23.68 13.232 23.776 11.408 23.776 10.064C23.776 8.528 23.552 7.056 23.104 5.648C22.72 4.24 21.792 3.408 20.32 3.152C19.68 3.024 18.56 2.928 16.96 2.86399C15.424 2.8 13.92 2.768 12.448 2.768C10.976 2.704 9.984 2.704 9.472 2.768C9.088 2.768 8.896 2.64 8.896 2.384C8.896 2.128 9.056 1.872 9.376 1.616C9.696 1.296 10.016 1.136 10.336 1.136C13.728 1.136 17.056 1.2 20.32 1.328C23.584 1.456 26.688 1.51999 29.632 1.51999C34.56 1.51999 39.104 1.488 43.264 1.424C47.424 1.296 51.936 1.104 56.8 0.847998C58.592 0.719995 59.84 0.975996 60.544 1.616C61.312 2.256 61.696 3.344 61.696 4.88C61.696 5.2 61.664 5.552 61.6 5.936C61.6 6.25599 61.568 6.64 61.504 7.088C61.248 9.392 61.088 11.344 61.024 12.944C61.024 14.544 60.96 16.656 60.832 19.28C60.832 19.664 60.64 19.856 60.256 19.856C59.68 19.856 59.392 19.44 59.392 18.608C59.392 18.224 59.392 17.872 59.392 17.552C59.456 17.168 59.488 16.784 59.488 16.4C59.488 12.496 58.688 9.584 57.088 7.664C55.488 5.68 53.44 4.688 50.944 4.688C50.048 4.688 49.152 4.688 48.256 4.688C47.424 4.624 46.592 4.592 45.76 4.592C43.712 4.592 41.856 4.784 40.192 5.168C38.528 5.488 37.12 6.288 35.968 7.568C34.88 8.784 34.112 10.736 33.664 13.424C33.152 16.368 32.704 19.088 32.32 21.584C32 24.016 31.68 26.384 31.36 28.688C33.216 28.56 35.232 28.464 37.408 28.4C39.584 28.272 41.856 28.144 44.224 28.016C45.76 27.952 47.328 27.792 48.928 27.536C50.592 27.28 52.064 27.024 53.344 26.768C54.688 26.448 55.52 26.16 55.84 25.904C55.968 25.776 56.096 25.712 56.224 25.712C56.416 25.712 56.416 25.968 56.224 26.48C55.776 27.44 54.944 28.368 53.728 29.264C52.512 30.096 51.488 30.704 50.656 31.088C49.888 31.472 49.088 31.728 48.256 31.856C47.488 31.92 46.688 31.952 45.856 31.952C42.272 31.952 39.296 31.92 36.928 31.856C34.624 31.792 32.64 31.76 30.976 31.76C30.656 34.704 30.368 37.712 30.112 40.784C29.856 43.856 29.568 47.312 29.248 51.152C29.12 52.688 29.248 54.064 29.632 55.28C30.08 56.432 31.104 57.328 32.704 57.968C34.304 58.608 36.736 58.928 40 58.928C44.928 58.928 49.152 57.584 52.672 54.896C56.256 52.208 58.976 48.72 60.832 44.432C60.96 44.24 61.056 44.144 61.12 44.144C61.312 44.144 61.472 44.272 61.6 44.528C61.792 44.72 61.856 44.944 61.792 45.2C61.536 45.904 61.184 47.024 60.736 48.56C60.288 50.096 59.776 51.76 59.2 53.552C58.624 55.344 57.888 57.008 56.992 58.544C56.16 60.08 55.168 61.232 54.016 62C53.312 62.448 51.936 62.672 49.888 62.672ZM82.7448 63.632C81.7848 63.632 81.1128 62.512 80.7288 60.272C80.4728 58.608 80.1208 56.528 79.6728 54.032C79.2248 51.536 78.7448 48.912 78.2328 46.16C77.7208 43.408 77.2088 40.72 76.6968 38.096C76.1848 35.408 75.6728 33.04 75.1608 30.992C74.7128 28.944 74.2968 27.44 73.9128 26.48C72.9528 23.856 71.9288 22.064 70.8408 21.104C69.7528 20.144 67.8328 19.664 65.0808 19.664H64.9848C64.6648 19.664 64.5048 19.536 64.5048 19.28C64.5048 19.024 64.6328 18.768 64.8888 18.512C65.1448 18.192 65.4328 18.032 65.7528 18.032C68.2488 18.032 70.9368 18.096 73.8168 18.224C76.6968 18.288 79.6088 18.32 82.5528 18.32C85.5608 18.32 88.5048 18.224 91.3848 18.032C91.5128 18.032 91.5768 18.096 91.5768 18.224C91.5768 18.48 91.4168 18.832 91.0968 19.28C90.8408 19.664 90.5848 19.856 90.3288 19.856C89.6248 19.856 88.7288 19.888 87.6407 19.952C86.6168 20.016 85.7208 20.272 84.9528 20.72C84.1848 21.168 83.8008 21.968 83.8008 23.12C83.8008 23.504 83.8328 23.824 83.8968 24.08C84.5368 27.28 85.1768 30.64 85.8168 34.16C86.5208 37.616 87.1928 40.944 87.8328 44.144C88.5368 47.28 89.1768 49.968 89.7528 52.208C91.6088 48.688 93.5608 44.688 95.6088 40.208C97.7208 35.728 99.7048 31.536 101.561 27.632C102.585 25.52 103.097 23.888 103.097 22.736C103.097 21.456 102.649 20.624 101.753 20.24C100.857 19.792 99.8648 19.568 98.7768 19.568C98.3288 19.568 97.8808 19.6 97.4328 19.664C96.9848 19.728 96.5688 19.76 96.1848 19.76H96.0888C95.8968 19.76 95.8008 19.696 95.8008 19.568C95.8008 19.312 95.9608 18.992 96.2808 18.608C96.6648 18.224 96.9208 18.032 97.0488 18.032C97.9448 18.032 98.7768 18.064 99.5448 18.128C100.313 18.128 101.625 18.128 103.481 18.128H117.401C117.593 18.128 117.689 18.224 117.689 18.416C117.689 18.608 117.529 18.896 117.209 19.28C116.953 19.6 116.665 19.792 116.345 19.856C116.217 19.856 116.057 19.856 115.865 19.856C115.673 19.792 115.417 19.76 115.097 19.76C114.265 19.76 113.177 20.048 111.833 20.624C110.553 21.136 109.209 22.416 107.801 24.464C107.033 25.616 106.041 27.248 104.825 29.36C103.673 31.472 102.393 33.84 100.985 36.464C99.5768 39.024 98.1688 41.648 96.7608 44.336C95.4168 47.024 94.1688 49.552 93.0168 51.92C91.9288 54.288 91.0968 56.272 90.5208 57.872C90.3288 58.896 89.8168 59.696 88.9848 60.272C88.1528 60.848 86.8088 61.68 84.9528 62.768C83.9928 63.344 83.2568 63.632 82.7448 63.632ZM126.296 62.768C124.376 62.768 122.456 62.384 120.536 61.616C118.616 60.848 117.048 59.632 115.832 57.968C114.552 56.112 113.592 53.968 112.952 51.536C112.312 49.04 111.992 46.512 111.992 43.952C111.992 39.472 112.824 35.376 114.488 31.664C115.704 28.912 117.368 26.416 119.48 24.176C121.656 21.936 124.024 20.144 126.584 18.8C129.144 17.456 131.704 16.784 134.264 16.784C135.672 16.784 137.016 17.008 138.296 17.456C139.64 17.904 140.888 18.608 142.04 19.568C142.68 20.08 143.192 20.592 143.576 21.104C144.024 21.616 144.44 22.128 144.824 22.64C145.144 23.152 145.304 23.6 145.304 23.984C145.304 24.432 145.144 24.816 144.824 25.136C143.992 26.16 143.096 27.6 142.136 29.456C141.24 31.312 140.6 33.168 140.216 35.024C140.664 34.896 141.752 34.768 143.48 34.64C145.208 34.448 146.872 34.352 148.472 34.352C148.984 34.352 149.432 34.384 149.816 34.448C150.264 34.448 150.648 34.48 150.968 34.544C151.864 34.608 152.312 34.864 152.312 35.312C152.312 35.76 151.896 35.888 151.064 35.696C150.808 35.568 150.488 35.504 150.104 35.504C149.72 35.504 149.304 35.504 148.856 35.504C147.832 35.504 146.68 35.568 145.4 35.696C144.184 35.824 143.096 35.984 142.136 36.176C141.176 36.304 140.536 36.4 140.216 36.464C140.216 36.72 140.184 36.944 140.12 37.136C139.992 38.096 139.672 38.576 139.16 38.576C138.776 38.576 138.616 38.16 138.68 37.328C138.744 37.2 138.776 36.976 138.776 36.656C135.192 37.296 131.896 38.16 128.888 39.248C125.944 40.336 123.192 41.584 120.632 42.992C121.784 47.536 123.448 50.672 125.624 52.4C127.864 54.064 130.168 54.896 132.536 54.896C134.712 54.896 136.728 54.416 138.584 53.456C140.504 52.432 141.976 51.408 143 50.384C143.192 50.192 143.352 50.096 143.48 50.096C143.672 50.096 143.768 50.256 143.768 50.576C143.768 50.896 143.48 51.344 142.904 51.92C142.328 52.496 141.624 53.104 140.792 53.744C140.024 54.32 139.352 54.8 138.776 55.184C137.496 56.016 136.312 57.2 135.224 58.736C134.136 60.208 132.856 61.232 131.384 61.808C129.784 62.448 128.088 62.768 126.296 62.768ZM120.248 40.208C123.128 39.12 126.136 38.128 129.272 37.232C132.472 36.272 135.736 35.568 139.064 35.12C139.256 30.448 138.456 26.992 136.664 24.752C134.872 22.512 132.824 21.392 130.52 21.392C128.856 21.392 127.192 22 125.528 23.216C123.928 24.368 122.616 26.064 121.592 28.304C120.568 30.544 120.056 33.328 120.056 36.656C120.056 37.232 120.056 37.808 120.056 38.384C120.12 38.96 120.184 39.568 120.248 40.208ZM143.843 62C143.715 62 143.651 61.904 143.651 61.712C143.651 61.456 143.779 61.136 144.035 60.752C144.291 60.368 144.547 60.176 144.803 60.176C145.508 60.176 146.18 60.208 146.82 60.272C147.524 60.272 148.1 60.272 148.548 60.272C150.02 60.272 151.332 60.016 152.484 59.504C153.7 58.992 154.564 57.936 155.076 56.336C155.972 53.712 156.708 50.672 157.284 47.216C157.86 43.696 158.308 40.112 158.628 36.464C159.012 32.816 159.3 29.456 159.492 26.384C159.62 24.016 159.14 22.384 158.052 21.488C157.028 20.528 155.588 19.984 153.732 19.856C151.876 19.728 149.86 19.664 147.684 19.664C146.852 19.664 146.436 19.504 146.436 19.184C146.436 18.864 146.596 18.608 146.916 18.416C147.3 18.16 147.652 18.032 147.972 18.032L154.02 18.128C156.196 18.192 158.372 18.256 160.548 18.32C162.724 18.32 164.708 18.32 166.5 18.32C167.332 18.32 168.1 18.32 168.804 18.32C169.508 18.256 170.116 18.224 170.628 18.224H170.724C171.364 18.224 171.684 18.512 171.684 19.088C171.684 19.28 171.652 19.504 171.588 19.76C171.524 19.952 171.46 20.176 171.396 20.432C171.076 21.776 170.564 23.952 169.859 26.96C169.22 29.904 168.548 33.264 167.844 37.04C167.14 40.752 166.532 44.496 166.02 48.272C165.572 51.984 165.348 55.312 165.348 58.256V58.544C165.348 59.184 165.444 59.6 165.636 59.792C165.892 59.984 166.084 60.048 166.212 59.984C166.596 59.984 166.852 59.696 166.98 59.12C167.108 58.544 167.204 58 167.268 57.488C167.588 55.056 167.972 52.144 168.42 48.752C168.932 45.296 169.572 41.776 170.34 38.192C171.172 34.544 172.292 31.184 173.7 28.112C175.108 24.976 176.932 22.448 179.172 20.528C181.412 18.544 184.196 17.552 187.524 17.552C192.324 17.552 194.724 19.888 194.724 24.56C194.724 24.88 194.692 25.232 194.628 25.616C194.628 26 194.596 26.416 194.531 26.864C193.892 31.472 193.124 36.336 192.228 41.456C191.396 46.512 190.948 51.28 190.884 55.76C190.884 57.104 191.236 58.096 191.94 58.736C192.708 59.376 193.412 59.76 194.052 59.888C195.14 60.08 196.548 60.208 198.276 60.272C200.004 60.336 201.252 60.368 202.02 60.368H202.116C202.436 60.368 202.596 60.496 202.596 60.752C202.596 61.008 202.436 61.296 202.116 61.616C201.86 61.872 201.54 62 201.156 62H179.844C179.204 62 178.884 61.776 178.884 61.328C178.884 60.688 179.14 59.44 179.652 57.584C180.228 55.728 180.932 52.688 181.764 48.464C182.02 47.376 182.276 45.936 182.532 44.144C182.788 42.352 183.012 40.432 183.204 38.384C183.46 36.336 183.588 34.416 183.588 32.624C183.588 31.664 183.556 30.8 183.492 30.032C183.428 29.2 183.3 28.496 183.108 27.92C182.852 27.024 182.436 26.384 181.86 26C181.348 25.616 180.804 25.424 180.228 25.424C179.524 25.424 178.788 25.648 178.02 26.096C177.252 26.544 176.58 27.12 176.004 27.824C174.596 29.488 173.444 31.76 172.548 34.64C171.652 37.456 170.916 40.432 170.34 43.568C169.828 46.704 169.412 49.616 169.092 52.304C168.772 54.928 168.516 56.88 168.324 58.16C168.26 58.352 168.228 58.544 168.228 58.736C168.228 58.864 168.228 58.992 168.228 59.12C168.228 60.016 168.644 60.464 169.476 60.464C169.924 60.464 170.436 60.432 171.012 60.368C171.652 60.24 172.324 60.176 173.028 60.176H173.22C173.54 60.176 173.7 60.336 173.7 60.656C173.7 60.912 173.604 61.168 173.411 61.424C173.22 61.68 172.964 61.808 172.644 61.808C171.62 61.808 170.948 61.776 170.628 61.712C170.372 61.584 169.7 61.52 168.612 61.52C166.564 61.52 164.58 61.52 162.66 61.52C160.74 61.52 158.788 61.584 156.804 61.712C155.78 61.712 154.436 61.744 152.772 61.808C151.172 61.872 149.54 61.936 147.876 62C146.276 62 144.931 62 143.843 62ZM219.6 62.672C216.208 62.672 213.744 61.776 212.208 59.984C210.672 58.128 209.904 55.344 209.904 51.632C209.904 50.992 209.904 50.352 209.904 49.712C209.968 49.072 210.032 48.4 210.096 47.696C210.608 42.896 211.184 38.352 211.824 34.064C212.464 29.712 213.104 25.392 213.744 21.104H207.6C207.344 21.104 207.312 20.88 207.504 20.432C207.76 19.92 208.08 19.44 208.464 18.992C208.912 18.48 209.264 18.224 209.52 18.224H214.128C214.192 17.328 214.256 16.592 214.32 16.016C214.448 15.44 214.512 14.576 214.512 13.424C214.512 11.568 214.16 10.32 213.456 9.68C212.816 9.04 211.664 8.72 210 8.72C209.552 8.72 209.072 8.752 208.56 8.816C208.048 8.88 207.472 8.912 206.832 8.912H206.736C206.224 8.912 205.968 8.656 205.968 8.144C205.968 7.632 206.256 7.376 206.832 7.376H210.576C212.688 7.376 215.056 7.344 217.68 7.27999C220.368 7.216 222.8 7.184 224.976 7.184C225.488 7.184 225.744 7.44 225.744 7.952C225.744 8.208 225.712 8.624 225.648 9.2C225.584 9.712 225.488 10.384 225.359 11.216C225.296 11.6 225.136 12.336 224.88 13.424C224.624 14.448 224.304 15.984 223.92 18.032H238.512C238.96 18.032 239.056 18.288 238.8 18.8C238.608 19.312 238.256 19.824 237.744 20.336C237.296 20.848 236.912 21.104 236.592 21.104H223.536C223.536 21.36 223.408 22.384 223.152 24.176C222.896 25.968 222.576 28.176 222.192 30.8C221.808 33.424 221.392 36.176 220.944 39.056C220.56 41.936 220.208 44.56 219.888 46.928C219.76 47.76 219.6 48.784 219.408 50C219.28 51.216 219.216 52.4 219.216 53.552C219.216 55.088 219.472 56.464 219.984 57.68C220.56 58.832 221.68 59.408 223.344 59.408C225.2 59.408 226.8 58.448 228.144 56.528C229.552 54.544 230.672 52.272 231.504 49.712C232.208 47.664 232.784 45.552 233.232 43.376C233.68 41.2 233.968 39.504 234.096 38.288C234.096 37.712 234.32 37.424 234.768 37.424C235.408 37.424 235.632 37.84 235.44 38.672L234 45.68C233.424 48.496 232.656 51.152 231.696 53.648C230.8 56.144 229.52 58.192 227.856 59.792C226.256 61.392 224.112 62.32 221.424 62.576C221.104 62.64 220.784 62.672 220.464 62.672C220.208 62.672 219.92 62.672 219.6 62.672ZM254.921 62.768C253.001 62.768 251.081 62.384 249.161 61.616C247.241 60.848 245.673 59.632 244.457 57.968C243.177 56.112 242.217 53.968 241.577 51.536C240.937 49.04 240.617 46.512 240.617 43.952C240.617 39.472 241.449 35.376 243.113 31.664C244.329 28.912 245.993 26.416 248.105 24.176C250.281 21.936 252.649 20.144 255.209 18.8C257.769 17.456 260.329 16.784 262.889 16.784C264.297 16.784 265.641 17.008 266.921 17.456C268.265 17.904 269.513 18.608 270.665 19.568C271.305 20.08 271.817 20.592 272.201 21.104C272.649 21.616 273.065 22.128 273.449 22.64C273.769 23.152 273.929 23.6 273.929 23.984C273.929 24.432 273.769 24.816 273.449 25.136C272.617 26.16 271.721 27.6 270.761 29.456C269.865 31.312 269.225 33.168 268.841 35.024C269.289 34.896 270.377 34.768 272.105 34.64C273.833 34.448 275.497 34.352 277.097 34.352C277.609 34.352 278.057 34.384 278.441 34.448C278.889 34.448 279.273 34.48 279.593 34.544C280.489 34.608 280.937 34.864 280.937 35.312C280.937 35.76 280.521 35.888 279.689 35.696C279.433 35.568 279.113 35.504 278.729 35.504C278.345 35.504 277.929 35.504 277.481 35.504C276.457 35.504 275.305 35.568 274.025 35.696C272.809 35.824 271.721 35.984 270.761 36.176C269.801 36.304 269.161 36.4 268.841 36.464C268.841 36.72 268.809 36.944 268.745 37.136C268.617 38.096 268.297 38.576 267.785 38.576C267.401 38.576 267.241 38.16 267.305 37.328C267.369 37.2 267.401 36.976 267.401 36.656C263.817 37.296 260.521 38.16 257.513 39.248C254.569 40.336 251.817 41.584 249.257 42.992C250.409 47.536 252.073 50.672 254.249 52.4C256.489 54.064 258.793 54.896 261.161 54.896C263.337 54.896 265.353 54.416 267.209 53.456C269.129 52.432 270.601 51.408 271.625 50.384C271.817 50.192 271.977 50.096 272.105 50.096C272.297 50.096 272.393 50.256 272.393 50.576C272.393 50.896 272.105 51.344 271.529 51.92C270.953 52.496 270.249 53.104 269.417 53.744C268.649 54.32 267.977 54.8 267.401 55.184C266.121 56.016 264.937 57.2 263.849 58.736C262.761 60.208 261.481 61.232 260.009 61.808C258.409 62.448 256.713 62.768 254.921 62.768ZM248.873 40.208C251.753 39.12 254.761 38.128 257.897 37.232C261.097 36.272 264.361 35.568 267.689 35.12C267.881 30.448 267.081 26.992 265.289 24.752C263.497 22.512 261.449 21.392 259.145 21.392C257.481 21.392 255.817 22 254.153 23.216C252.553 24.368 251.241 26.064 250.217 28.304C249.193 30.544 248.681 33.328 248.681 36.656C248.681 37.232 248.681 37.808 248.681 38.384C248.745 38.96 248.809 39.568 248.873 40.208ZM283.605 62.576C282.389 62.576 281.365 62.192 280.533 61.424C279.765 60.656 279.125 59.76 278.613 58.736C278.165 57.648 277.845 56.592 277.653 55.568C277.461 54.48 277.365 53.648 277.365 53.072C277.365 50.256 277.973 47.888 279.189 45.968C280.469 44.048 282.101 42.512 284.085 41.36C286.133 40.144 288.341 39.248 290.709 38.672C293.141 38.032 295.541 37.616 297.909 37.424C300.341 37.168 302.485 37.072 304.341 37.136C304.341 37.136 304.405 36.528 304.533 35.312C304.725 34.096 304.853 33.04 304.917 32.144C304.981 30.992 304.949 29.712 304.821 28.304C304.693 26.896 304.309 25.68 303.669 24.656C303.541 24.464 303.317 24.144 302.997 23.696C302.677 23.184 302.741 22.832 303.189 22.64C303.253 22.576 303.381 22.544 303.573 22.544C303.957 22.544 304.373 22.896 304.821 23.6C305.333 24.304 305.653 25.2 305.781 26.288C305.973 27.376 306.069 28.528 306.069 29.744C306.069 30.192 306.069 30.608 306.069 30.992C306.069 31.376 306.037 31.792 305.973 32.24C305.909 33.264 305.781 34.352 305.589 35.504C305.461 36.592 305.397 37.136 305.397 37.136C305.525 37.2 305.685 37.232 305.877 37.232C306.645 37.232 307.061 36.912 307.125 36.272C307.253 35.376 307.381 34.16 307.509 32.624C307.701 31.024 307.797 29.392 307.797 27.728C307.797 25.36 307.477 23.248 306.837 21.392C306.261 19.472 305.013 18.512 303.093 18.512C301.877 18.512 300.725 18.8 299.637 19.376C298.549 19.888 297.621 20.496 296.853 21.2C295.701 22.288 294.869 23.568 294.357 25.04C293.909 26.448 293.525 27.792 293.205 29.072C292.949 30.352 292.469 31.312 291.765 31.952C290.933 32.784 290.165 33.328 289.461 33.584C288.821 33.84 287.989 34.288 286.965 34.928C286.645 35.12 286.165 35.376 285.525 35.696C284.949 35.952 284.405 36.08 283.893 36.08C283.445 36.08 283.061 35.888 282.741 35.504C282.421 35.12 282.325 34.416 282.453 33.392C282.645 31.984 282.837 30.48 283.029 28.88C283.221 27.216 283.445 26.16 283.701 25.712C284.533 24.368 285.717 23.184 287.253 22.16C288.853 21.136 290.613 20.272 292.533 19.568C294.453 18.8 296.341 18.224 298.197 17.84C300.053 17.456 301.685 17.232 303.093 17.168C305.845 16.976 308.405 17.264 310.773 18.032C313.205 18.8 315.157 19.984 316.629 21.584C318.101 23.184 318.837 25.2 318.837 27.632C318.837 28.464 318.741 29.36 318.549 30.32C317.909 33.072 317.365 35.856 316.917 38.672C316.469 41.424 316.117 44.208 315.861 47.024C315.797 47.664 315.669 48.624 315.477 49.904C315.349 51.184 315.285 52.496 315.285 53.84C315.285 55.312 315.477 56.656 315.861 57.872C316.245 59.088 316.981 59.792 318.069 59.984C318.773 60.112 319.669 60.208 320.757 60.272C321.845 60.336 322.869 60.368 323.829 60.368C324.853 60.368 325.621 60.368 326.133 60.368H326.229C326.549 60.368 326.708 60.496 326.708 60.752C326.708 61.008 326.549 61.296 326.229 61.616C325.909 61.872 325.557 62 325.173 62C322.933 62 320.693 61.968 318.453 61.904C316.213 61.84 313.973 61.808 311.733 61.808C310.645 61.808 309.525 61.84 308.373 61.904C307.285 61.968 306.165 62 305.013 62H304.053C303.285 62 302.901 61.808 302.901 61.424C302.901 61.232 302.933 60.976 302.997 60.656C303.125 60.272 303.253 59.824 303.381 59.312C303.765 57.904 304.149 56.176 304.533 54.128C304.917 52.08 305.269 50.032 305.589 47.984C305.973 45.872 306.261 44.048 306.453 42.512C306.645 40.912 306.741 39.888 306.741 39.44V39.248C306.741 38.8 306.581 38.512 306.261 38.384C305.941 38.256 305.621 38.16 305.301 38.096C304.981 40.848 304.405 43.664 303.573 46.544C302.805 49.36 301.845 51.984 300.693 54.416C299.605 56.848 298.453 58.832 297.237 60.368C296.021 61.84 294.837 62.576 293.685 62.576H283.605ZM293.877 56.528C295.797 56.528 297.397 55.792 298.677 54.32C299.701 53.168 300.565 51.76 301.269 50.096C301.973 48.368 302.517 46.64 302.901 44.912C303.349 43.184 303.669 41.68 303.861 40.4C304.117 39.12 304.277 38.32 304.341 38C303.957 37.936 303.573 37.904 303.189 37.904C302.869 37.904 302.549 37.904 302.229 37.904C300.565 37.904 298.997 38.16 297.525 38.672C296.117 39.12 294.869 39.728 293.781 40.496C292.373 41.52 291.157 42.96 290.133 44.816C289.109 46.608 288.597 48.464 288.597 50.384C288.597 51.536 288.821 52.592 289.269 53.552C289.717 54.576 290.357 55.344 291.189 55.856C292.021 56.304 292.917 56.528 293.877 56.528ZM338.641 63.824C336.785 63.824 335.057 63.568 333.457 63.056C331.921 62.544 330.609 61.712 329.521 60.56C329.073 60.048 328.465 59.376 327.697 58.544C326.929 57.712 326.545 56.88 326.545 56.048C326.545 55.6 326.673 55.216 326.929 54.896C327.825 53.68 328.721 52.528 329.617 51.44C330.577 50.288 331.473 48.496 332.305 46.064C332.497 45.552 332.657 45.008 332.785 44.432C332.913 43.792 333.201 43.6 333.649 43.856C333.841 43.92 333.841 44.4 333.649 45.296C333.521 46.192 333.457 46.928 333.457 47.504C333.457 49.616 334.001 51.568 335.089 53.36C336.177 55.088 337.617 56.496 339.409 57.584C341.201 58.672 343.153 59.216 345.265 59.216C346.929 59.216 348.529 58.768 350.065 57.872C351.601 56.976 352.849 55.728 353.809 54.128C354.833 52.528 355.345 50.672 355.345 48.56C355.345 46.96 354.865 45.712 353.905 44.816C352.945 43.856 351.729 43.152 350.257 42.704C348.849 42.256 347.345 41.936 345.745 41.744C344.209 41.552 342.865 41.424 341.713 41.36C338.001 41.04 335.153 40.112 333.169 38.576C331.249 36.976 330.289 35.248 330.289 33.392C330.289 31.408 331.025 29.456 332.497 27.536C334.033 25.616 335.985 23.888 338.353 22.352C340.785 20.752 343.441 19.504 346.321 18.608C349.265 17.648 352.113 17.168 354.865 17.168C356.977 17.168 358.961 17.488 360.817 18.128C362.673 18.704 364.273 19.728 365.617 21.2C366.385 21.968 366.769 22.704 366.769 23.408C366.769 23.92 366.609 24.432 366.289 24.944C366.033 25.456 365.809 26.032 365.617 26.672C365.617 26.672 365.329 26.992 364.753 27.632C364.177 28.272 363.505 29.104 362.737 30.128C362.033 31.152 361.393 32.272 360.817 33.488C360.561 34.064 360.305 34.352 360.049 34.352C359.857 34.352 359.761 34.192 359.761 33.872C359.761 33.616 359.857 33.296 360.049 32.912C360.113 32.72 360.177 32.4 360.241 31.952C360.305 31.44 360.337 30.864 360.337 30.224C360.337 28.88 360.049 27.408 359.473 25.808C358.897 24.144 357.617 22.832 355.633 21.872C354.225 21.168 352.721 20.816 351.121 20.816C349.521 20.816 347.953 21.168 346.417 21.872C344.945 22.512 343.697 23.472 342.673 24.752C341.713 26.032 341.233 27.6 341.233 29.456C341.233 31.76 341.905 33.424 343.249 34.448C344.657 35.472 346.353 36.112 348.337 36.368C350.321 36.624 352.145 36.752 353.809 36.752C355.921 36.752 357.873 36.88 359.665 37.136C361.521 37.392 362.993 37.968 364.081 38.864C365.233 39.76 365.809 41.2 365.809 43.184C365.809 45.936 364.945 48.56 363.217 51.056C361.489 53.552 359.249 55.76 356.497 57.68C353.809 59.6 350.865 61.104 347.665 62.192C344.529 63.28 341.521 63.824 338.641 63.824ZM384.952 62.768C383.032 62.768 381.112 62.384 379.192 61.616C377.272 60.848 375.704 59.632 374.488 57.968C373.208 56.112 372.248 53.968 371.608 51.536C370.968 49.04 370.648 46.512 370.648 43.952C370.648 39.472 371.48 35.376 373.144 31.664C374.36 28.912 376.024 26.416 378.136 24.176C380.312 21.936 382.68 20.144 385.24 18.8C387.8 17.456 390.36 16.784 392.92 16.784C394.328 16.784 395.672 17.008 396.952 17.456C398.296 17.904 399.544 18.608 400.696 19.568C401.336 20.08 401.848 20.592 402.232 21.104C402.68 21.616 403.096 22.128 403.48 22.64C403.8 23.152 403.96 23.6 403.96 23.984C403.96 24.432 403.8 24.816 403.48 25.136C402.648 26.16 401.752 27.6 400.792 29.456C399.896 31.312 399.256 33.168 398.872 35.024C399.32 34.896 400.408 34.768 402.136 34.64C403.864 34.448 405.528 34.352 407.128 34.352C407.64 34.352 408.088 34.384 408.472 34.448C408.92 34.448 409.304 34.48 409.624 34.544C410.52 34.608 410.968 34.864 410.968 35.312C410.968 35.76 410.552 35.888 409.72 35.696C409.464 35.568 409.144 35.504 408.76 35.504C408.376 35.504 407.96 35.504 407.512 35.504C406.488 35.504 405.336 35.568 404.056 35.696C402.84 35.824 401.752 35.984 400.792 36.176C399.832 36.304 399.192 36.4 398.872 36.464C398.872 36.72 398.84 36.944 398.776 37.136C398.648 38.096 398.328 38.576 397.816 38.576C397.432 38.576 397.272 38.16 397.336 37.328C397.4 37.2 397.432 36.976 397.432 36.656C393.848 37.296 390.552 38.16 387.544 39.248C384.6 40.336 381.848 41.584 379.288 42.992C380.44 47.536 382.104 50.672 384.28 52.4C386.52 54.064 388.824 54.896 391.192 54.896C393.368 54.896 395.384 54.416 397.24 53.456C399.16 52.432 400.632 51.408 401.656 50.384C401.848 50.192 402.008 50.096 402.136 50.096C402.328 50.096 402.424 50.256 402.424 50.576C402.424 50.896 402.136 51.344 401.56 51.92C400.984 52.496 400.28 53.104 399.448 53.744C398.68 54.32 398.008 54.8 397.432 55.184C396.152 56.016 394.968 57.2 393.88 58.736C392.792 60.208 391.512 61.232 390.04 61.808C388.44 62.448 386.744 62.768 384.952 62.768ZM378.904 40.208C381.784 39.12 384.792 38.128 387.928 37.232C391.128 36.272 394.392 35.568 397.72 35.12C397.912 30.448 397.112 26.992 395.32 24.752C393.528 22.512 391.48 21.392 389.176 21.392C387.512 21.392 385.848 22 384.184 23.216C382.584 24.368 381.272 26.064 380.248 28.304C379.224 30.544 378.712 33.328 378.712 36.656C378.712 37.232 378.712 37.808 378.712 38.384C378.776 38.96 378.84 39.568 378.904 40.208Z" fill="white"/>
          </svg>

          </p>
        </Link>
      </div>

      <div className="hidden md:flex items-center gap-4"> {/* Desktop Menu */}
        <ul className="flex items-center">
          <li className="font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 px-4 rounded-lg">
            <Link href={`/${lng}`}>{t('title')}</Link>
          </li>
          <li className="font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 px-4 rounded-lg">
            <Link href={`/${lng}/explore`}>{t('explore')}</Link>
          </li>
          {isSignedIn ? (
            <>
              <li>
                <Link
                  href={`/${lng}/eventlab`}
                  className="font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 px-4 rounded-lg"
                >
                  EventLab
                </Link>
              </li>
              <li className="flex items-center">
                <UserButton lng={lng} />
              </li>
            </>
          ) : (
            <>
              <li className="font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 px-4 rounded-lg">
                <Link href="/auth/signin">Signin</Link>
              </li>
              <li className="font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 px-4 rounded-lg">
                <Link href="/auth/signup">Signup</Link>
              </li>
            </>
          )}
        </ul>

        {/* Dropdown for Language Selection */}
        <div className="relative z-10">
          <button
            onClick={toggleDropdown}
            className="text-white px-4 py-2 rounded-lg"
          >
            <MdLanguage size={25} />
          </button>
          {dropdownOpen && (
            <ul className="absolute right-0 mt-2 w-28 bg-white rounded-md shadow-lg text-gray-700">
              <li
                onClick={() => {
                  handleChangeLanguage("fr");
                  setDropdownOpen(false);
                }}
                className="cursor-pointer px-4 py-2 hover:bg-gray-200"
              >
                Français
              </li>
              <li
                onClick={() => {
                  handleChangeLanguage("en");
                  setDropdownOpen(false);
                }}
                className="cursor-pointer px-4 py-2 hover:bg-gray-200"
              >
                English
              </li>
              <li
                onClick={() => {
                  handleChangeLanguage("nl");
                  setDropdownOpen(false);
                }}
                className="cursor-pointer px-4 py-2 hover:bg-gray-200"
              >
                Nederlands
              </li>
            </ul>
          )}
        </div>
      </div>

      <div className="md:hidden">
        <button onClick={toggleMenu} className="text-white focus:outline-none pr-4">
          {isOpen ? <FaTimes size={24} /> : <FaBars size={24} />}
        </button>
      </div>

      {/* Mobile Menu */}
      {isOpen && (
        <div className="absolute rounded-xl top-[5.5rem] left-1/2 transform -translate-x-1/2 w-[98%] bg-blue-500 md:hidden z-10 flex flex-col gap-4 px-4 py-2">
          <Link
            href={`/${lng}`}
            className="px-4 rounded-lg font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 w-fit text-left"
          >
            {t('title')}
          </Link>

          {isSignedIn ? (
            <>
              <Link
                href={`/${lng}/explore`}
                className="px-4 rounded-lg font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 w-fit text-left"
              >
                {t('explore')}
              </Link>
              <Link
                href={`/${lng}/eventlab`}
                className="px-4 rounded-lg font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 w-fit text-left"
              >
                EventLab
              </Link>
              <div className="text-white pl-4">
                <UserButton lng={lng} />
              </div>
            </>
          ) : (
            <>
              <Link
                href="/auth/signin"
                className="px-4 rounded-lg font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 w-fit text-left"
              >
                Signin
              </Link>
              <Link
                href="/auth/signup"
                className="px-4 rounded-lg font-bold cursor-pointer text-xl text-white hover:bg-blue-600 duration-300 py-2 w-fit text-left"
              >
                Signup
              </Link>
            </>
          )}
          <div className="flex items-center">
            <button onClick={() => handleChangeLanguage("en")} className="text-white px-4 py-2">
              EN
            </button>
            <button onClick={() => handleChangeLanguage("fr")} className="text-white px-4 py-2">
              FR
            </button>
            <button onClick={() => handleChangeLanguage("nl")} className="text-white px-4 py-2">
              NL
            </button>
          </div>
        </div>
      )}
    </nav>
  );
};

export default Navbar;
